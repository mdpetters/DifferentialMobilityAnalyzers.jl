<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Physics · DifferentialMobilityAnalyzers.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="DifferentialMobilityAnalyzers.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">DifferentialMobilityAnalyzers.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../quickstart/">Quick Start</a></li><li><a class="tocitem" href="../../tutorial/">Tutorial</a></li><li><a class="tocitem" href="../../notebooks/">Notebooks</a></li></ul></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../../man/overview/">Overview</a></li><li><a class="tocitem" href="../../man/sizedistribution/">Size Distributions</a></li><li><a class="tocitem" href="../../man/dmas/">Initializing DMAs</a></li><li><a class="tocitem" href="../../man/matrix/">Convolution Matrices</a></li><li><a class="tocitem" href="../../man/forward/">Forward Models</a></li><li><a class="tocitem" href="../../man/inverse/">Inverse Models</a></li><li><a class="tocitem" href="../../man/benchmarks/">Performance Benchmarks</a></li></ul></li><li><span class="tocitem">Library</span><ul><li class="is-active"><a class="tocitem" href>Physics</a><ul class="internal"><li><a class="tocitem" href="#Index"><span>Index</span></a></li><li><a class="tocitem" href="#Functions"><span>Functions</span></a></li></ul></li><li><a class="tocitem" href="../types/">Data Types</a></li><li><a class="tocitem" href="../operators/">Operators</a></li><li><a class="tocitem" href="../helpers/">Helper Functions</a></li><li><a class="tocitem" href="../forward/">Forward Models</a></li><li><a class="tocitem" href="../inversion/">Inversion Routines</a></li><li><a class="tocitem" href="../benchmarks/">Benchmarks</a></li></ul></li><li><a class="tocitem" href="../../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Library</a></li><li class="is-active"><a href>Physics</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Physics</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/mdpetters/DifferentialMobilityAnalyzers.jl/blob/master/docs/documentation/src/lib/physics.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Physics"><a class="docs-heading-anchor" href="#Physics">Physics</a><a id="Physics-1"></a><a class="docs-heading-anchor-permalink" href="#Physics" title="Permalink"></a></h1><p>The following functions are used to define the physics of the instrument. </p><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#DifferentialMobilityAnalyzers.Tl-Tuple{DMAconfig,Any}"><code>DifferentialMobilityAnalyzers.Tl</code></a></li><li><a href="#DifferentialMobilityAnalyzers.cc-Tuple{DMAconfig,Any}"><code>DifferentialMobilityAnalyzers.cc</code></a></li><li><a href="#DifferentialMobilityAnalyzers.dab-Tuple{DMAconfig,Any}"><code>DifferentialMobilityAnalyzers.dab</code></a></li><li><a href="#DifferentialMobilityAnalyzers.dtoz-Tuple{DMAconfig,Any}"><code>DifferentialMobilityAnalyzers.dtoz</code></a></li><li><a href="#DifferentialMobilityAnalyzers.getTc-Tuple{DMAconfig}"><code>DifferentialMobilityAnalyzers.getTc</code></a></li><li><a href="#DifferentialMobilityAnalyzers.gfₖ-NTuple{4,Any}"><code>DifferentialMobilityAnalyzers.gfₖ</code></a></li><li><a href="#DifferentialMobilityAnalyzers.vtoz-Tuple{DMAconfig,Any}"><code>DifferentialMobilityAnalyzers.vtoz</code></a></li><li><a href="#DifferentialMobilityAnalyzers.ztod"><code>DifferentialMobilityAnalyzers.ztod</code></a></li><li><a href="#DifferentialMobilityAnalyzers.ztov-Tuple{DMAconfig,Any}"><code>DifferentialMobilityAnalyzers.ztov</code></a></li><li><a href="#DifferentialMobilityAnalyzers.Ω-Tuple{DMAconfig,Any,Any}"><code>DifferentialMobilityAnalyzers.Ω</code></a></li><li><a href="#DifferentialMobilityAnalyzers.η-Tuple{DMAconfig}"><code>DifferentialMobilityAnalyzers.η</code></a></li></ul><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2><h3 id="Fluid-Viscosity"><a class="docs-heading-anchor" href="#Fluid-Viscosity">Fluid Viscosity</a><a id="Fluid-Viscosity-1"></a><a class="docs-heading-anchor-permalink" href="#Fluid-Viscosity" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="DifferentialMobilityAnalyzers.η-Tuple{DMAconfig}" href="#DifferentialMobilityAnalyzers.η-Tuple{DMAconfig}"><code>DifferentialMobilityAnalyzers.η</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">η(Λ::DMAconfig)</code></pre><p>η is the viscosity of air in [Pa s] and depends on temperature [K]. Temperature  is taken from the DMA configuration. Currently only dry air is supported.</p><p><span>$\eta = 1.83245\times10^{-5} \exp \left(1.5 \ln \left[\frac{T}{296.1}\right]\right)\left  (\frac{406.55}{T+110.4} \right)$</span> </p><p>Example Usage</p><pre><code class="language-julia">t,p = 295.15, 1e5                        
qsa,qsh = 1.66e-5, 8.3e-5                     
r₁,r₂,l = 9.37e-3,1.961e-2,0.44369               
Λ = DMAconfig(t,p,qsa,qsh,r₁,r₂,l,0.0,:-,6,:cylindrical) 
viscosity = η(Λ)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mdpetters/DifferentialMobilityAnalyzers.jl/blob/8fdb54d240e3435089adfbe2ee182bdc889c7bd6/src/dmafunctions.jl#L71-L89">source</a></section></article><h3 id="Cunningham-Correction-Factor"><a class="docs-heading-anchor" href="#Cunningham-Correction-Factor">Cunningham Correction Factor</a><a id="Cunningham-Correction-Factor-1"></a><a class="docs-heading-anchor-permalink" href="#Cunningham-Correction-Factor" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="DifferentialMobilityAnalyzers.cc-Tuple{DMAconfig,Any}" href="#DifferentialMobilityAnalyzers.cc-Tuple{DMAconfig,Any}"><code>DifferentialMobilityAnalyzers.cc</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">cc(Λ::DMAconfig, d)</code></pre><p>Cunningham slip-flow correction factor. The slip flow correction accounts for the  decreased drag particles experience relative to Stokes&#39; drag force when particle  size approaches the scale of the mean free path of air. It is computed following  Hinds (1999) Eq. 3.20. Temperature and pressure are taken from the DMA configuration. The units of diameter are in [m] and the function accepts scalars or arrays.</p><p><span>$c_c = 1+\frac{\lambda}{d_p} \left(2.34+1.05 \exp \left[-0.39 \frac{d_p}{\lambda}\right]\right)$</span></p><p>where <span>$d_p$</span> is the particle diameter and <span>$\lambda$</span> is the mean  free path of air, which is computed as a function of pressure and temperature. </p><p>Example Usage</p><pre><code class="language-julia">Dp = exp10.(range(log10(1e-9), stop=log10(1000e-9), length=100))
t,p = 295.15, 1e5                        
qsa,qsh = 1.66e-5, 8.3e-5                    
r₁,r₂,l = 9.37e-3,1.961e-2,0.44369               
Λ = DMAconfig(t,p,qsa,qsh,r₁,r₂,l,0.0,:-,6,:cylindrical) 
correction = cc(Λ, Dp)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mdpetters/DifferentialMobilityAnalyzers.jl/blob/8fdb54d240e3435089adfbe2ee182bdc889c7bd6/src/dmafunctions.jl#L92-L118">source</a></section></article><h3 id="Diffusion-Coefficient"><a class="docs-heading-anchor" href="#Diffusion-Coefficient">Diffusion Coefficient</a><a id="Diffusion-Coefficient-1"></a><a class="docs-heading-anchor-permalink" href="#Diffusion-Coefficient" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="DifferentialMobilityAnalyzers.dab-Tuple{DMAconfig,Any}" href="#DifferentialMobilityAnalyzers.dab-Tuple{DMAconfig,Any}"><code>DifferentialMobilityAnalyzers.dab</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">dab(Λ::DMAconfig, d)</code></pre><p>The diffusion coefficient of particles in air, <span>$d_{ab}$</span>, describes the random  displacement of particles due to Brownian motion. It is computed via the Stokes-Einstein  relation (Hinds, 1999, Eq. 7.20). Temperature and pressure are taken from the DMA  configuration. The units of diameter are in [m] and the function accepts scalars or arrays.</p><p><span>$d_{ab} = \frac{k_bTc_c}{3\pi\eta d_p}$</span></p><p>where <span>$k_b$</span> is Boltzmann&#39;s constant and <span>$\eta$</span> is the viscosity of air in [Pa s],  <span>$c_c$</span> is the Cunningham slip flow correction and <span>$d_p$</span> is the particle diameter. <span>$d_{ab}$</span> is in [m² s⁻¹].</p><p>Example Usage</p><pre><code class="language-julia">Dp = exp10.(range(log10(1e-9), stop=log10(1000e-9), length=100))
t,p = 295.15, 1e5                        
qsa,qsh = 1.66e-5, 8.3e-5                     
r₁,r₂,l = 9.37e-3,1.961e-2,0.44369               
Λ = DMAconfig(t,p,qsa,qsh,r₁,r₂,l,0.0,:-,6,:cylindrical) 
diffusion_coefficient = dab(Λ,Dp)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mdpetters/DifferentialMobilityAnalyzers.jl/blob/8fdb54d240e3435089adfbe2ee182bdc889c7bd6/src/dmafunctions.jl#L121-L145">source</a></section></article><h3 id="dtoz"><a class="docs-heading-anchor" href="#dtoz">dtoz</a><a id="dtoz-1"></a><a class="docs-heading-anchor-permalink" href="#dtoz" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="DifferentialMobilityAnalyzers.dtoz-Tuple{DMAconfig,Any}" href="#DifferentialMobilityAnalyzers.dtoz-Tuple{DMAconfig,Any}"><code>DifferentialMobilityAnalyzers.dtoz</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">dtoz(Λ::DMAconfig, d)</code></pre><p>The function returns the mobility <span>$z$</span> according to  </p><p><span>$d_p =  \frac{kec_c}{3\pi \eta z^s}$</span></p><p>where <span>$e$</span> is the elementary charge,  <span>$k$</span> is the number of charges on the particle,  <span>$c_c$</span> is the Cunningham correction factor, and <span>$\eta$</span> is the viscosity of the fluid.  The diameter in dtoz is in units of [m].</p><p>Example Usage</p><pre><code class="language-julia">t,p = 295.15, 1e5                        
qsa,qsh = 1.66e-5, 8.3e-5                     
r₁,r₂,l = 9.37e-3,1.961e-2,0.44369               
Λ = DMAconfig(t,p,qsa,qsh,r₁,r₂,l,0.0,:-,6,:cylindrical) 
mobility = dtoz(Λ,dp*1e-9) # [m2 V-1 s-1]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mdpetters/DifferentialMobilityAnalyzers.jl/blob/8fdb54d240e3435089adfbe2ee182bdc889c7bd6/src/dmafunctions.jl#L269-L288">source</a></section></article><h3 id="ztod"><a class="docs-heading-anchor" href="#ztod">ztod</a><a id="ztod-1"></a><a class="docs-heading-anchor-permalink" href="#ztod" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="DifferentialMobilityAnalyzers.ztod" href="#DifferentialMobilityAnalyzers.ztod"><code>DifferentialMobilityAnalyzers.ztod</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">ztod(Λ::DMAconfig, i::Int, z)</code></pre><p>Converts mobility to diameter.</p><ul><li>Λ is the DMA configuration</li><li>i is the number of charges</li><li>z is the mobility</li></ul><pre><code class="language-julia">t,p = 295.15, 1e5                        
qsa,qsh = 1.66e-5, 8.3e-5                     
r₁,r₂,l = 9.37e-3,1.961e-2,0.44369               
Λ = DMAconfig(t,p,qsa,qsh,r₁,r₂,l,0.0,:-,6,:cylindrical) 
z = dtoz(Λ,100.0*1e-9) 
diameter = ztod(Λ,1,z) </code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/539f3ce943f59dec8aff3f2238b083f1b27f41e5/base/#L0-L16">source</a></section></article><h3 id="vtoz"><a class="docs-heading-anchor" href="#vtoz">vtoz</a><a id="vtoz-1"></a><a class="docs-heading-anchor-permalink" href="#vtoz" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="DifferentialMobilityAnalyzers.vtoz-Tuple{DMAconfig,Any}" href="#DifferentialMobilityAnalyzers.vtoz-Tuple{DMAconfig,Any}"><code>DifferentialMobilityAnalyzers.vtoz</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">vtoz(Λ::DMAconfig, v)</code></pre><p>Converts between voltage and selected mobility. It is the inverse of <a href="#ztov">ztov</a>. </p><p>For the cylindrical DMA and balanced flows: </p><p><span>$z^s = \frac{q_{sh}}{2\pi l v} \ln \left(\frac{r_2}{r_1}\right)$</span></p><p>For the radial DMA and balanced flows:</p><p><span>$z^s = \frac{q_{sh} l}{\pi v \left({r_2}^2 - {r_1}^2\right)}$</span></p><p>where <span>$v$</span> is the potential applied between the inner and out section of the annulus,  <span>$r_1$</span>, <span>$r_2$</span>, and <span>$l$</span> are the dimensions of the cylindrical DMA  and <span>$q_{sh}$</span> is  the sheath flow rate.</p><p>Example Usage</p><pre><code class="language-julia">t,p = 295.15, 1e5                        
qsa,qsh = 1.66e-5, 8.3e-5
r₁,r₂,l = 9.37e-3,1.961e-2,0.44369               
Λ = DMAconfig(t,p,qsa,qsh,r₁,r₂,l,0.0,:-,6,:cylindrical) 
mobility = vtoz(Λ,1000.0) # [m2 V-1 s-1]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mdpetters/DifferentialMobilityAnalyzers.jl/blob/8fdb54d240e3435089adfbe2ee182bdc889c7bd6/src/dmafunctions.jl#L291-L316">source</a></section></article><h3 id="ztov"><a class="docs-heading-anchor" href="#ztov">ztov</a><a id="ztov-1"></a><a class="docs-heading-anchor-permalink" href="#ztov" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="DifferentialMobilityAnalyzers.ztov-Tuple{DMAconfig,Any}" href="#DifferentialMobilityAnalyzers.ztov-Tuple{DMAconfig,Any}"><code>DifferentialMobilityAnalyzers.ztov</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">ztov(Λ::DMAconfig, v)</code></pre><p>Converts between selected mobility and voltage. It is the inverse of <a href="#vtoz">vtoz</a>. </p><p>Example Usage</p><pre><code class="language-julia">t,p = 295.15, 1e5                        
qsa,qsh = 1.66e-5, 8.3e-5
r₁,r₂,l = 9.37e-3,1.961e-2,0.44369               
Λ = DMAconfig(t,p,qsa,qsh,r₁,r₂,l,0.0,:-,6,:cylindrical) 
voltage = ztov(Λ,1e-9) </code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mdpetters/DifferentialMobilityAnalyzers.jl/blob/8fdb54d240e3435089adfbe2ee182bdc889c7bd6/src/dmafunctions.jl#L321-L334">source</a></section></article><h3 id="gfₖ"><a class="docs-heading-anchor" href="#gfₖ">gfₖ</a><a id="gfₖ-1"></a><a class="docs-heading-anchor-permalink" href="#gfₖ" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="DifferentialMobilityAnalyzers.gfₖ-NTuple{4,Any}" href="#DifferentialMobilityAnalyzers.gfₖ-NTuple{4,Any}"><code>DifferentialMobilityAnalyzers.gfₖ</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">gfₖ(Λ, zˢ, gf, k)</code></pre><p>Returns the effective growth factor for multi-charge particles. </p><ul><li>Λ  - DMA configuration </li><li>zˢ - the dry particle diameter mobility [m2 s-1 V-1]</li><li>gf - the true growth factor</li><li>k  - the number of charges    </li></ul><p>The effect is described by Gysel et al. (2009) and Shen et al. (2020).  Shen et al. (2020) write: &quot;For electrical mobility diameter of 100 nm, the doubly and  triply charged particles are about 151 nm and 196 nm, respectively. When all these three  kind of particles have a true growth factor of 1.6, they will grow to the size of 160 nm,  242 nm and 314 nm. Since the number of charges they carry remain the same as before,  their peak sizes in the second DMA are around 160 nm, 154 nm and 150 nm. Therefore, the  growth factors they display in the HTDMA measurement is 1.6, 1.54 and 1.5, respectively.&quot;</p><p>Example use</p><pre><code class="language-none"># Define a DMA
t, p = 295.15, 1e5
qsa, qsh = 1.66e-5, 8.33e-5
r₁, r₂, l = 9.37e-3, 1.961e-2, 0.44369
Λ = DMAconfig(t, p, qsa, qsh, r₁, r₂, l, 0.0, :-, 6, :cylindrical)

zˢ = dtoz(Λ, 100e-9) # mobility z-star for 100 nm particle 
truegf = 1.6          # true growth factor of 1.6
gfₖ(Λ, zˢ, truegf, 1)    # effective growth factor for 1 charge = 1.6
gfₖ(Λ, zˢ, truegf, 2)    # effective growth factor for 2 charges = 1.544 
gfₖ(Λ, zˢ, truegf, 3)    # effective growth factor for 3 charges = 1.507 
gfₖ(Λ, zˢ, truegf, 4)    # effective growth factor for 4 charges = 1.481 </code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/539f3ce943f59dec8aff3f2238b083f1b27f41e5/base/#L0-L32">source</a></section></article><h3 id="Transfer-Function"><a class="docs-heading-anchor" href="#Transfer-Function">Transfer Function</a><a id="Transfer-Function-1"></a><a class="docs-heading-anchor-permalink" href="#Transfer-Function" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="DifferentialMobilityAnalyzers.Ω-Tuple{DMAconfig,Any,Any}" href="#DifferentialMobilityAnalyzers.Ω-Tuple{DMAconfig,Any,Any}"><code>DifferentialMobilityAnalyzers.Ω</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Ω(Λ::DMAconfig, Z, zs)</code></pre><p>The DMA transfer function is the probability that a particle of a particle of a given size  exits the classifier via the sample flow. The diffusive broadened DMA transfer function is  computed assuming blanced sheath and excess flows using the expression of Stolzenburg  and McMurry (2008).</p><p><span>$\Omega(\tilde{z},\beta,\sigma) = \frac{\sigma}{\sqrt{2}\beta}\left[\epsilon \left(      \frac{\tilde{z}-(1+\beta)}{\sqrt{2}\sigma} \right) + \epsilon \left (\frac{\tilde{z}-     (1-\beta)}{\sqrt{2}\sigma} \right) - 2\epsilon \left      ( \frac{\tilde{z}-1}{\sqrt{2}\sigma}\right)  \right]$</span></p><p>where <span>$\tilde{z} = \frac{z}{z^s}$</span> is the dimensionless mobility, <span>$z$</span> is the particle  mobility <span>$z^s$</span> is the centroid mobility selected by the DMA,  <span>$\epsilon = x \mathrm{erf}(x) +\left(\exp(-x^2)/\sqrt{\pi}\right)$</span>, <span>$\mathrm{erf}$</span> is  the error function, and <span>$\beta = \frac{q_{sa}}{q_{sh}}$</span>. The parameter <span>$\sigma$</span>  accounts for diffusional broading of the transfer function. Assuming plug flow,  <span>$\sigma$</span> can be computed using the following equations Hagwood (1999) </p><p><span>$\gamma = \left(\frac{r_1}{r_2}\right)^2$</span></p><p><span>$I = \frac{1}{2}(1+γ)$</span></p><p><span>$\kappa = \frac{lr_2}{r_2^2-r_1^2}$</span></p><p><span>$G = \frac{4(1+\beta)^2}{(1-γ)} \left[I+\{2(1+\beta)\kappa\}^{-2} \right ]$</span></p><p><span>$\sigma = \sqrt{\frac{2G\pi ld_{ab}}{q_{sh}}}$</span></p><p>Inputs for flow are taken from the DMAconfig. The function expects a mobility scalar z or vector Z, and a centroid mobility zˢ.</p><p>Example Usage</p><pre><code class="language-julia">zˢ = dtoz(Λ, 200e-9)      # centroid mobility for Dp = 200 nm
z = [1e-9, 1e-8, 1e-7]    # mobility 
Ω(Λ,z,zˢ)                 # Output of the transfer function</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The function Ω is embedded in the the Type DifferentialMobilityAnalyzers.jl, which  assigns δ.Ω either to this function Ω or Ωav applicable to scanning mode,</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mdpetters/DifferentialMobilityAnalyzers.jl/blob/8fdb54d240e3435089adfbe2ee182bdc889c7bd6/src/dmafunctions.jl#L361-L406">source</a></section></article><h3 id="Charging-Probability"><a class="docs-heading-anchor" href="#Charging-Probability">Charging Probability</a><a id="Charging-Probability-1"></a><a class="docs-heading-anchor-permalink" href="#Charging-Probability" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="DifferentialMobilityAnalyzers.getTc-Tuple{DMAconfig}" href="#DifferentialMobilityAnalyzers.getTc-Tuple{DMAconfig}"><code>DifferentialMobilityAnalyzers.getTc</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">getTc(Λ::DMAconfig)</code></pre><p>Returns a function </p><pre><code class="language-julia">Tc(k::Integer, Dp)</code></pre><p>to compute the charging efficiency. Tc depends of the polarity set in DMAconfig.</p><p>Charging efficiency (charge equilibrium) obtained in the bipolar charger is computed based  on the parameterized measurements by Wiedensohler et al. (1988) with coefficients taken  from the TSI 3080 Manual (2009). </p><p><span>$T_c(k) = 10^{\left\{ \sum_{i=1}^6 a_i (k) \left[ \ln \left(\frac{D_p}{nm}\right) \right]^{i-1} \right\}}$</span></p><p>where <span>$k = -2,-1,1,2$</span> is the number and polarity of particle charge and <span>$a_i$</span> are  empirical coefficients. </p><p>For <span>$k \ge \pm 3$</span>, the formula from the TSI manual is used:</p><p><span>$T_c(k) = \frac{e}{\sqrt{4\pi^2\epsilon D_pk_bT}} \exp \left( \frac{-\frac{\left[|k| -  2\pi\epsilon D_pk_bT \ln(0.875)\right]^2}{e^2}}{ \frac{4\pi\epsilon D_pk_bT}{e^2}} \right)$</span></p><p>where <span>$e$</span> is the elementary charge and <span>$\epsilon$</span> is the dielectric constant for air.</p><p>Example Usage</p><pre><code class="language-julia">t,p = 295.15, 1e5                        
qsa,qsh = 1.66e-5, 8.3e-5                     
r₁,r₂,l = 9.37e-3,1.961e-2,0.44369               
Λ = DMAconfig(t,p,qsa,qsh,r₁,r₂,l,0.0,:-,6,:cylindrical) 
Tc = getTc(Λ)
Tc(1,100.0) # Note that Dp is in units of nm!</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The function Tc is computed during DMA grid initialization and embedded in the  DifferentialMobilityAnalyzer data type. It is usually accessed through this grid. The diameter Dp is in units of nm.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mdpetters/DifferentialMobilityAnalyzers.jl/blob/8fdb54d240e3435089adfbe2ee182bdc889c7bd6/src/dmafunctions.jl#L177-L220">source</a></section></article><h3 id="Transmission-Loss"><a class="docs-heading-anchor" href="#Transmission-Loss">Transmission Loss</a><a id="Transmission-Loss-1"></a><a class="docs-heading-anchor-permalink" href="#Transmission-Loss" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="DifferentialMobilityAnalyzers.Tl-Tuple{DMAconfig,Any}" href="#DifferentialMobilityAnalyzers.Tl-Tuple{DMAconfig,Any}"><code>DifferentialMobilityAnalyzers.Tl</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Tl(Λ::DMAconfig, Dp)</code></pre><p>Penetration efficiency through the TSI cylindrical DMA using the parameterization by  Reineking &amp; Porstendörfer (1986). The particle diameter Dp is in [nm].</p><p><span>$T_l = 0.82\exp(-11.5u)+0.1\exp(-70.0u)+0.03\exp(-180.0u)+0.02\exp(-340.0u)$</span></p><p>where <span>$u = \frac{d_{ab} l_{eff}}{q_{sa}}$, $l_{eff}$</span> is the parameterized effective  diffusion length, and <span>$q_{sa}$</span> is the aerosol flow rate through the DMA. </p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Λ contains the effective length, aerosol flow rate, temperature and pressure to  compute <span>$d_{ab}$</span>. To treat multiple DMAs with different {leff, qsa,  t, p} in a single script, the function Tl is  embedded  in the  DifferentialMobilityAnalyzer data type.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mdpetters/DifferentialMobilityAnalyzers.jl/blob/8fdb54d240e3435089adfbe2ee182bdc889c7bd6/src/dmafunctions.jl#L156-L174">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../man/benchmarks/">« Performance Benchmarks</a><a class="docs-footer-nextpage" href="../types/">Data Types »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 22 December 2020 15:07">Tuesday 22 December 2020</span>. Using Julia version 1.5.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
