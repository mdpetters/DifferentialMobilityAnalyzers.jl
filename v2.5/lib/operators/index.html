<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Operators · DifferentialMobilityAnalyzers.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><script src="../../../copy.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="DifferentialMobilityAnalyzers.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">DifferentialMobilityAnalyzers.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../quickstart/">Quick Start</a></li><li><a class="tocitem" href="../../tutorial/">Tutorial</a></li><li><a class="tocitem" href="../../notebooks/">Notebooks</a></li></ul></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../../man/overview/">Overview</a></li><li><a class="tocitem" href="../../man/sizedistribution/">Size Distributions</a></li><li><a class="tocitem" href="../../man/dmas/">Initializing DMAs</a></li><li><a class="tocitem" href="../../man/matrix/">Convolution Matrices</a></li><li><a class="tocitem" href="../../man/forward/">Forward Models</a></li><li><a class="tocitem" href="../../man/inverse/">Inverse Models</a></li><li><a class="tocitem" href="../../man/benchmarks/">Performance Benchmarks</a></li></ul></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../physics/">Physics</a></li><li><a class="tocitem" href="../types/">Data Types</a></li><li class="is-active"><a class="tocitem" href>Operators</a><ul class="internal"><li><a class="tocitem" href="#Index"><span>Index</span></a></li><li><a class="tocitem" href="#Number-Operators"><span>Number Operators</span></a></li><li><a class="tocitem" href="#Size-Operators"><span>Size Operators</span></a></li></ul></li><li><a class="tocitem" href="../helpers/">Helper Functions</a></li><li><a class="tocitem" href="../forward/">Forward Models</a></li><li><a class="tocitem" href="../inversion/">Inversion Routines</a></li><li><a class="tocitem" href="../benchmarks/">Benchmarks</a></li></ul></li><li><a class="tocitem" href="../../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Library</a></li><li class="is-active"><a href>Operators</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Operators</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/mdpetters/DifferentialMobilityAnalyzers.jl/blob/master/docs/documentation/src/lib/operators.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Operators"><a class="docs-heading-anchor" href="#Operators">Operators</a><a id="Operators-1"></a><a class="docs-heading-anchor-permalink" href="#Operators" title="Permalink"></a></h1><p>Operators are used to transform size distributions. The operators overload the Base or LinearAlgebra methods. Operators fall into two broad categories: operators changing number concentration and spectral density fields (𝕟.N and 𝕟.S) and operators that change the sizing vector (𝕟.Dp). The former include 𝕟₁ + 𝕟₂, 𝕟₁ - 𝕟₂, 𝕟₁ ∗ 𝕟₂, 𝕟₁ / 𝕟₂, a ∗ 𝕟, T .∗ 𝕟, and A ∗ 𝕟, while the latter include a · 𝕟 and T · 𝕟.</p><table><tr><th style="text-align: right">Operator</th><th style="text-align: right">Description</th></tr><tr><td style="text-align: right">𝕟₁ + 𝕟₂</td><td style="text-align: right">Superposition of the distributions 𝕟₁ and 𝕟₂</td></tr><tr><td style="text-align: right">𝕟₁ - 𝕟₂</td><td style="text-align: right">Superposition of the distributions 𝕟₁ and 𝕟₂</td></tr><tr><td style="text-align: right">a ∗ 𝕟</td><td style="text-align: right">Uniform scaling of the concentration fields by factor a</td></tr><tr><td style="text-align: right">𝐀 ∗ 𝕟</td><td style="text-align: right">Matrix multiplication of 𝐀 and concentration</td></tr><tr><td style="text-align: right">𝕟₁ * 𝕟₂</td><td style="text-align: right">Scaled such that total number concentration equals to N1 ∗ N2</td></tr><tr><td style="text-align: right">𝕟₁ / 𝕟₂</td><td style="text-align: right">Ratio of concentration fields of distributions 𝕟₁.N and 𝕟₂.N</td></tr><tr><td style="text-align: right">a · 𝕟</td><td style="text-align: right">Uniform scaling of the diameter field of the size distribution by factor a</td></tr><tr><td style="text-align: right">T · 𝕟</td><td style="text-align: right">Elementwise scaling the diameter field by factor T</td></tr><tr><td style="text-align: right"></td><td style="text-align: right"></td></tr></table><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#Base.:*-Tuple{AbstractMatrix, SizeDistribution}"><code>Base.:*</code></a></li><li><a href="#Base.:*-Tuple{Number, SizeDistribution}"><code>Base.:*</code></a></li><li><a href="#Base.:*-Tuple{SizeDistribution, SizeDistribution}"><code>Base.:*</code></a></li><li><a href="#Base.:+-Tuple{SizeDistribution, SizeDistribution}"><code>Base.:+</code></a></li><li><a href="#Base.:--Tuple{SizeDistribution, SizeDistribution}"><code>Base.:-</code></a></li><li><a href="#Base.:/-Tuple{SizeDistribution, SizeDistribution}"><code>Base.:/</code></a></li><li><a href="#LinearAlgebra.:⋅-Tuple{Number, SizeDistribution}"><code>LinearAlgebra.:⋅</code></a></li><li><a href="#LinearAlgebra.:⋅-Tuple{Vector{&lt;:AbstractFloat}, SizeDistribution}"><code>LinearAlgebra.:⋅</code></a></li></ul><h2 id="Number-Operators"><a class="docs-heading-anchor" href="#Number-Operators">Number Operators</a><a id="Number-Operators-1"></a><a class="docs-heading-anchor-permalink" href="#Number-Operators" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Base.:+-Tuple{SizeDistribution, SizeDistribution}" href="#Base.:+-Tuple{SizeDistribution, SizeDistribution}"><code>Base.:+</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">+(𝕟₁::SizeDistribution, 𝕟₂::SizeDistribution)</code></pre><p>Defines the sum of two size distributions. If diameter grids are not equal, then the diameter grid of n2 is interpolated onto the n1 grid prior to addition.</p><pre><code class="language-julia hljs">𝕩 = 𝕟₁ + 𝕟₂ </code></pre><p>is defined such that </p><pre><code class="language-julia hljs">𝕩.S = 𝕟₁.S + 𝕟₂.S 
𝕩.N = 𝕩.S .* 𝕟.ΔlnD </code></pre><p>Example Usage</p><pre><code class="language-julia hljs">𝕟₁ = lognormal([[120, 90, 1.20]]; d1 = 10.0, d2 = 1000.0, bins = 256)
𝕟₂ = lognormal([[90, 140, 1.15]]; d1 = 20.0, d2 = 800.0, bins = 64)
𝕩 = 𝕟₁ + 𝕟₂</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mdpetters/DifferentialMobilityAnalyzers.jl/blob/0fb2ca5872276f8fa10629c7059b2559980fa212/src/aerosolsizedistributions.jl#L401-L423">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.:--Tuple{SizeDistribution, SizeDistribution}" href="#Base.:--Tuple{SizeDistribution, SizeDistribution}"><code>Base.:-</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">-(𝕟₁::SizeDistribution, 𝕟₂::SizeDistribution)</code></pre><p>Defines the sum of two size distributions. If diameter grids are not equal, then the diameter grid of n2 is interpolated onto the n1 grid prior to addition.</p><pre><code class="language-julia hljs">𝕩 = 𝕟₁ - 𝕟₂ </code></pre><p>is defined such that </p><pre><code class="language-julia hljs">𝕩.S = 𝕟₁.S - 𝕟₂.S 
𝕩.N = 𝕩.S .* 𝕟.ΔlnD </code></pre><p>Example Usage</p><pre><code class="language-julia hljs">𝕟₁ = lognormal([[120, 90, 1.20]]; d1 = 10.0, d2 = 1000.0, bins = 256)
𝕟₂ = lognormal([[90, 140, 1.15]]; d1 = 20.0, d2 = 800.0, bins = 64)
𝕩 = 𝕟₁ - 𝕟₂</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mdpetters/DifferentialMobilityAnalyzers.jl/blob/0fb2ca5872276f8fa10629c7059b2559980fa212/src/aerosolsizedistributions.jl#L441-L463">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.:*-Tuple{Number, SizeDistribution}" href="#Base.:*-Tuple{Number, SizeDistribution}"><code>Base.:*</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">*(a::Number, 𝕟::SizeDistribution)</code></pre><p>Multiplication of scalar and size distribution. The net result is a scaling of the  number concentration of the spectra by a. The function is symmetric such that a * 𝕟 == 𝕟 * a.</p><p>Let a denote a number and 𝕟 denote a size distribution. Then</p><pre><code class="language-julia hljs">𝕩 = a * 𝕟 </code></pre><p>is defined such that</p><pre><code class="language-julia hljs">𝕩.N = a * 𝕟.N
𝕩.S = a * 𝕟.S</code></pre><p>Example Usage</p><pre><code class="language-julia hljs">𝕟 = lognormal([[120, 90, 1.20]]; d1 = 10.0, d2 = 1000.0, bins = 256)
𝕩 = 2.3 * 𝕟₂</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mdpetters/DifferentialMobilityAnalyzers.jl/blob/0fb2ca5872276f8fa10629c7059b2559980fa212/src/aerosolsizedistributions.jl#L128-L150">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.:*-Tuple{AbstractMatrix, SizeDistribution}" href="#Base.:*-Tuple{AbstractMatrix, SizeDistribution}"><code>Base.:*</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">*(𝐀::AbstractMatrix, 𝕟::SizeDistribution)</code></pre><p>Multiplication of matrix and size distribution. The net result is the multiplication of the  matrix with number concentration and spectral density fields. </p><p>Let 𝐀 denote an nxn matrix where n equals the number of size bins of 𝕟. Then</p><pre><code class="language-julia hljs">𝕩 = 𝐀 * 𝕟 </code></pre><p>is defined such that </p><pre><code class="language-julia hljs">𝕩.N = 𝐀 * 𝕟.N
𝕩.S = 𝐀 * 𝕟.S</code></pre><pre><code class="language-julia hljs">𝕟 = lognormal([[100, 100, 1.1]]; d1 = 10.0, d2 = 1000.0, bins = 256)
𝐀 = rand(256,256)
𝕩 = 𝐀 * 𝕟                                        </code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mdpetters/DifferentialMobilityAnalyzers.jl/blob/0fb2ca5872276f8fa10629c7059b2559980fa212/src/aerosolsizedistributions.jl#L198-L219">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.:*-Tuple{SizeDistribution, SizeDistribution}" href="#Base.:*-Tuple{SizeDistribution, SizeDistribution}"><code>Base.:*</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">*(𝕟₁::SizeDistribution, 𝕟₂::SizeDistribution)</code></pre><p>Multiplication of size distribution and a size distribution. The net result is a  size distribution that has total number concentration square. For a probability  distributions that by definition integrate to unity, this operation corresponds to  the product of two random variates with distribution 1 and 2.</p><p>Let 𝕟₁ and 𝕟₂ denote a two size distribution defined on the same diameter grid. Then</p><pre><code class="language-julia hljs">𝕩 = 𝕟₁ * 𝕟₂ </code></pre><p>is defined such that </p><pre><code class="language-julia hljs">Nsq = 𝕟₁.N * 𝕟₂.N
𝕩.N = sum(𝕟₁.N) * sum(𝕟₂.N) * Nsq./sum(Nsq)
𝕩.S = N ./ 𝕟₁.ΔdlnD</code></pre><p>Example Usage</p><pre><code class="language-julia hljs">𝕟₁ = lognormal([[120, 90, 1.20]]; d1 = 10.0, d2 = 1000.0, bins = 256)
𝕟₂ = lognormal([[90, 140, 1.15]]; d1 = 20.0, d2 = 800.0, bins = 64)
𝕩 = 𝕟₁ * 𝕟₂</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mdpetters/DifferentialMobilityAnalyzers.jl/blob/0fb2ca5872276f8fa10629c7059b2559980fa212/src/aerosolsizedistributions.jl#L228-L253">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.:/-Tuple{SizeDistribution, SizeDistribution}" href="#Base.:/-Tuple{SizeDistribution, SizeDistribution}"><code>Base.:/</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">/(𝕟₁::SizeDistribution, 𝕟₂::SizeDistribution)</code></pre><p>Division of size distribution and size distribution. The net result is a size distribution  that is the ratio of the concentration vectors.</p><p>Let 𝕟₁ and 𝕟₂ denote a two size distribution defined on the same diameter grid. Then</p><pre><code class="language-julia hljs">𝕩 = 𝕟₁ / 𝕟₂</code></pre><p>is defined such that</p><pre><code class="language-julia hljs">N = 𝕟₁.N ./ 𝕟₂.N
S = 𝕟₁.S ./ 𝕟₂.S</code></pre><p>Example Usage</p><pre><code class="language-julia hljs">𝕟₁ = lognormal([[120, 90, 1.20]]; d1 = 10.0, d2 = 1000.0, bins = 256)
𝕟₂ = lognormal([[90, 140, 1.15]]; d1 = 20.0, d2 = 800.0, bins = 64)
𝕩 = 𝕟₁ / 𝕟₂</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mdpetters/DifferentialMobilityAnalyzers.jl/blob/0fb2ca5872276f8fa10629c7059b2559980fa212/src/aerosolsizedistributions.jl#L262-L287">source</a></section></article><h2 id="Size-Operators"><a class="docs-heading-anchor" href="#Size-Operators">Size Operators</a><a id="Size-Operators-1"></a><a class="docs-heading-anchor-permalink" href="#Size-Operators" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="LinearAlgebra.:⋅-Tuple{Number, SizeDistribution}" href="#LinearAlgebra.:⋅-Tuple{Number, SizeDistribution}"><code>LinearAlgebra.:⋅</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">⋅(a::Number, 𝕟::SizeDistribution)</code></pre><p>Multiplication of a scalar and a size distribution. The net result is a uniform diameter  shift of the size distribution. The function is symmetric such that a ⋅ 𝕟 == 𝕟 ⋅ a.</p><p>Let a denote a floating point scalar and 𝕟 denote a size distribution. Then</p><pre><code class="language-julia hljs">𝕩 = a ⋅ 𝕟</code></pre><p>is defined such that </p><pre><code class="language-julia hljs">𝕩.Dp = a * 𝕟.Dp </code></pre><p>Example Usage</p><pre><code class="language-julia hljs">a = 2.0 
𝕟 = lognormal([[300, 100, 1.3]]; d1 = 10.0, d2 = 1000.0, bins = 256)
𝕩 = a ⋅ 𝕟 </code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mdpetters/DifferentialMobilityAnalyzers.jl/blob/0fb2ca5872276f8fa10629c7059b2559980fa212/src/aerosolsizedistributions.jl#L296-L317">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LinearAlgebra.:⋅-Tuple{Vector{&lt;:AbstractFloat}, SizeDistribution}" href="#LinearAlgebra.:⋅-Tuple{Vector{&lt;:AbstractFloat}, SizeDistribution}"><code>LinearAlgebra.:⋅</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">LinearAlgebra.:⋅(A::Vector{&lt;:AbstractFloat}, 𝕟::SizeDistribution)</code></pre><p>Dot product of vector and size distribution.   The net result is diameter dependent shift of  the size distribution. The function is symmetric such that A ⋅ 𝕟 == 𝕟 ⋅ A.</p><p>Let T denote a floating point vector with the same number of elements as the size distribution 𝕟. Then</p><pre><code class="language-julia hljs">𝕩 = T ⋅ 𝕟 </code></pre><p>is defined such that </p><pre><code class="language-julia hljs">𝕩.Dp = T .* 𝕟.dp </code></pre><p>Example Usage</p><pre><code class="language-julia hljs">𝕟 = lognormal([[100, 100, 1.1]]; d1 = 10.0, d2 = 1000.0, bins = 256)  
μ,σ = 80.0, 2000.0
T = (1.0 .+ erf.((𝕟.Dp .- μ)./(sqrt(2σ)))) 
𝕩 = T ⋅ 𝕟  </code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mdpetters/DifferentialMobilityAnalyzers.jl/blob/0fb2ca5872276f8fa10629c7059b2559980fa212/src/aerosolsizedistributions.jl#L347-L371">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../types/">« Data Types</a><a class="docs-footer-nextpage" href="../helpers/">Helper Functions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.12 on <span class="colophon-date" title="Tuesday 25 January 2022 14:17">Tuesday 25 January 2022</span>. Using Julia version 1.7.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
